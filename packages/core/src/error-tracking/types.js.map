{"version":3,"file":"types.js","sourceRoot":"","sources":["types.ts"],"names":[],"mappings":";AAAA,kGAAkG;AAClG,iCAAiC;;;AAIjC,2EAA2E;AAC3E,yEAAyE;AACzE,iFAAiF;AACpE,QAAA,cAAc,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,CAAU,CAAA","sourcesContent":["// Portions of this file are derived from getsentry/sentry-javascript by Software, Inc. dba Sentry\n// Licensed under the MIT License\n\nimport type { JsonType } from '../types'\n\n// levels originally copied from Sentry to work with the sentry integration\n// and to avoid relying on a frequently changing @sentry/types dependency\n// but provided as an array of literal types, so we can constrain the level below\nexport const severityLevels = ['fatal', 'error', 'warning', 'log', 'info', 'debug'] as const\nexport declare type SeverityLevel = (typeof severityLevels)[number]\n\nexport interface PolymorphicEvent {\n  [key: string]: unknown\n  readonly type: string\n  readonly target?: unknown\n  readonly currentTarget?: unknown\n}\n\nexport interface EventHint {\n  mechanism?: Partial<Mechanism>\n  syntheticException?: Error | null\n}\n\nexport interface ErrorProperties {\n  $exception_list: Exception[]\n  $exception_level?: SeverityLevel\n}\n\nexport interface Exception {\n  type?: string\n  value?: string\n  mechanism?: Mechanism\n  module?: string\n  thread_id?: number\n  stacktrace?: { frames?: StackFrame[]; type: 'raw' }\n}\n\nexport type ExceptionList = Exception[]\n\nexport interface Mechanism {\n  handled?: boolean\n  type?: 'generic' | 'onunhandledrejection' | 'onuncaughtexception' | 'onconsole' | 'middleware'\n  source?: string\n  synthetic?: boolean\n}\n\nexport type GetModuleFn = (filename: string | undefined) => string | undefined\n\nexport type StackParser = (stack: string, skipFirstLines?: number) => StackFrame[]\nexport type StackLineParser = (line: string) => StackFrame | undefined\n\nexport type StackFrameModifierFn = (frames: StackFrame[]) => Promise<StackFrame[]>\n\nexport interface StackFrame {\n  platform: string\n  filename?: string\n  function?: string\n  module?: string\n  lineno?: number\n  colno?: number\n  abs_path?: string\n  context_line?: string\n  pre_context?: string[]\n  post_context?: string[]\n  in_app?: boolean\n  instruction_addr?: string\n  addr_mode?: string\n  vars?: { [key: string]: JsonType }\n  chunk_id?: string\n}\n\nexport interface CoercingContext extends EventHint {\n  // Used to forward to other types\n  apply: (input: unknown) => ExceptionLike\n  // Used to coerce nested exceptions\n  next: (input: unknown) => ExceptionLike | undefined\n}\n\nexport type ChunkIdMapType = Record<string, string>\n\nexport interface ParsingContext {\n  chunkIdMap?: ChunkIdMapType\n}\n\ninterface Coercer<T, U, C> {\n  match(input: unknown): input is T\n  coerce(input: T, ctx: C): U\n}\n\nexport type ErrorTrackingCoercer<T> = Coercer<T, ExceptionLike | undefined, CoercingContext>\n\ninterface BaseException {\n  type: string\n  value: string\n  synthetic: boolean\n}\n\nexport interface ExceptionLike extends BaseException {\n  stack?: string\n  cause?: ExceptionLike\n  level?: SeverityLevel\n}\n\nexport interface ParsedException extends BaseException {\n  stack?: StackFrame[]\n  cause?: ParsedException\n}\n"]}