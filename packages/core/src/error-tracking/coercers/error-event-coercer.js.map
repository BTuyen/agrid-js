{"version":3,"file":"error-event-coercer.js","sourceRoot":"","sources":["error-event-coercer.ts"],"names":[],"mappings":";;;AACA,iCAAsC;AAEtC;IACE;IAAe,CAAC;IAEhB,iCAAK,GAAL,UAAM,GAAY;QAChB,OAAO,IAAA,oBAAY,EAAC,GAAG,CAAC,IAAK,GAAkB,CAAC,KAAK,IAAI,SAAS,CAAA;IACpE,CAAC;IAED,kCAAM,GAAN,UAAO,GAAe,EAAE,GAAoB;;QAC1C,IAAM,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QAC1C,IAAI,CAAC,aAAa,EAAE,CAAC;YACnB,OAAO;gBACL,IAAI,EAAE,YAAY;gBAClB,KAAK,EAAE,GAAG,CAAC,OAAO;gBAClB,KAAK,EAAE,MAAA,GAAG,CAAC,kBAAkB,0CAAE,KAAK;gBACpC,SAAS,EAAE,IAAI;aAChB,CAAA;QACH,CAAC;aAAM,CAAC;YACN,OAAO,aAAa,CAAA;QACtB,CAAC;IACH,CAAC;IACH,wBAAC;AAAD,CAAC,AApBD,IAoBC;AApBY,8CAAiB","sourcesContent":["import { CoercingContext, ErrorTrackingCoercer, ExceptionLike } from '../types'\nimport { isErrorEvent } from '@/utils'\n\nexport class ErrorEventCoercer implements ErrorTrackingCoercer<ErrorEvent> {\n  constructor() {}\n\n  match(err: unknown): err is ErrorEvent {\n    return isErrorEvent(err) && (err as ErrorEvent).error != undefined\n  }\n\n  coerce(err: ErrorEvent, ctx: CoercingContext): ExceptionLike {\n    const exceptionLike = ctx.apply(err.error)\n    if (!exceptionLike) {\n      return {\n        type: 'ErrorEvent',\n        value: err.message,\n        stack: ctx.syntheticException?.stack,\n        synthetic: true,\n      }\n    } else {\n      return exceptionLike\n    }\n  }\n}\n"]}