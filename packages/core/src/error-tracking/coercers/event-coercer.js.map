{"version":3,"file":"event-coercer.js","sourceRoot":"","sources":["event-coercer.ts"],"names":[],"mappings":";;;AAAA,iCAAiC;AAEjC,iCAAwD;AAExD;IAAA;IAcA,CAAC;IAbC,4BAAK,GAAL,UAAM,GAAY;QAChB,OAAO,IAAA,eAAO,EAAC,GAAG,CAAC,CAAA;IACrB,CAAC;IAED,6BAAM,GAAN,UAAO,GAAU,EAAE,GAAoB;;QACrC,IAAM,eAAe,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,CAAA;QAC5C,OAAO;YACL,IAAI,EAAE,eAAe;YACrB,KAAK,EAAE,UAAG,eAAe,+CAAqC,IAAA,sCAA8B,EAAC,GAAG,CAAC,CAAE;YACnG,KAAK,EAAE,MAAA,GAAG,CAAC,kBAAkB,0CAAE,KAAK;YACpC,SAAS,EAAE,IAAI;SAChB,CAAA;IACH,CAAC;IACH,mBAAC;AAAD,CAAC,AAdD,IAcC;AAdY,oCAAY","sourcesContent":["import { isEvent } from '@/utils'\nimport { CoercingContext, ErrorTrackingCoercer, ExceptionLike } from '../types'\nimport { extractExceptionKeysForMessage } from './utils'\n\nexport class EventCoercer implements ErrorTrackingCoercer<Event> {\n  match(err: unknown): err is Event {\n    return isEvent(err)\n  }\n\n  coerce(evt: Event, ctx: CoercingContext): ExceptionLike {\n    const constructorName = evt.constructor.name\n    return {\n      type: constructorName,\n      value: `${constructorName} captured as exception with keys: ${extractExceptionKeysForMessage(evt)}`,\n      stack: ctx.syntheticException?.stack,\n      synthetic: true,\n    }\n  }\n}\n"]}